(declare-datatypes (T1 T2 T3 T4 T5)
 ((Recv (mk-recv (match T1) (ep T2) (var T3) (event T4) (nearestwait T5)))))
(declare-datatypes (T1 T2 T3 T4)
((Send (mk-send (match T1) (ep T2) (value T3) (event T4)))))

(define-fun HB ((a Int) (b Int)) Bool
  (if(< a b)
 true
 false))

(define-fun MATCH ((r (Recv Int Int Int Int Int)) (s (Send Int Int Int Int))) Bool
(if(and (= (ep r) (ep s)) (= (var r) (value s))
(HB (event s) (nearestwait r)) (= (match r) (event s))
(= (match s) (event r)))
true
false
)
)

(declare-const T0_0 Int)
(declare-const out_0_0 Int)
(declare-const T0_1 Int)
(declare-const T0_2 Int)
(declare-const T0_3 Int)
(declare-const T0_4 Int)
(declare-const in_0_0 Int)
(declare-const T0_5 Int)
(declare-const T0_6 Int)
(declare-const T0_7 Int)
(declare-const T0_8 Int)
(declare-const out_0_1 Int)
(declare-const T0_9 Int)
(declare-const T0_10 Int)
(declare-const T0_11 Int)
(declare-const T0_12 Int)
(declare-const in_0_1 Int)
(declare-const T0_13 Int)
(declare-const T0_14 Int)
(declare-const in_0_2 Int)
(declare-const T0_15 Int)
(declare-const T0_16 Int)
(declare-const in_0_3 Int)
(declare-const T0_17 Int)
(declare-const T0_18 Int)
(declare-const T1_0 Int)
(declare-const out_1_0 Int)
(declare-const T1_1 Int)
(declare-const T1_2 Int)
(declare-const T1_3 Int)
(declare-const T1_4 Int)
(declare-const in_1_0 Int)
(declare-const T1_5 Int)
(declare-const T1_6 Int)
(declare-const T1_7 Int)
(declare-const T1_8 Int)
(declare-const out_1_1 Int)
(declare-const T1_9 Int)
(declare-const T1_10 Int)
(declare-const T1_11 Int)
(declare-const T1_12 Int)
(declare-const in_1_1 Int)
(declare-const T1_13 Int)
(declare-const T1_14 Int)
(declare-const in_1_2 Int)
(declare-const T1_15 Int)
(declare-const T1_16 Int)
(declare-const in_1_3 Int)
(declare-const T1_17 Int)
(declare-const T1_18 Int)
(declare-const T2_0 Int)
(declare-const out_2_0 Int)
(declare-const T2_1 Int)
(declare-const T2_2 Int)
(declare-const T2_3 Int)
(declare-const T2_4 Int)
(declare-const in_2_0 Int)
(declare-const T2_5 Int)
(declare-const T2_6 Int)
(declare-const T2_7 Int)
(declare-const T2_8 Int)
(declare-const out_2_1 Int)
(declare-const T2_9 Int)
(declare-const T2_10 Int)
(declare-const T2_11 Int)
(declare-const T2_12 Int)
(declare-const in_2_1 Int)
(declare-const T2_13 Int)
(declare-const T2_14 Int)
(declare-const in_2_2 Int)
(declare-const T2_15 Int)
(declare-const T2_16 Int)
(declare-const in_2_3 Int)
(declare-const T2_17 Int)
(declare-const T2_18 Int)
(declare-const T3_0 Int)
(declare-const out_3_0 Int)
(declare-const T3_1 Int)
(declare-const T3_2 Int)
(declare-const T3_3 Int)
(declare-const T3_4 Int)
(declare-const in_3_0 Int)
(declare-const T3_5 Int)
(declare-const T3_6 Int)
(declare-const T3_7 Int)
(declare-const T3_8 Int)
(declare-const out_3_1 Int)
(declare-const T3_9 Int)
(declare-const T3_10 Int)
(declare-const T3_11 Int)
(declare-const T3_12 Int)
(declare-const in_3_1 Int)
(declare-const T3_13 Int)
(declare-const T3_14 Int)
(declare-const in_3_2 Int)
(declare-const T3_15 Int)
(declare-const T3_16 Int)
(declare-const in_3_3 Int)
(declare-const T3_17 Int)
(declare-const T3_18 Int)

(assert (distinct T0_0 T0_1 T0_2 T0_3 T0_4 T0_5 T0_6 T0_7 T0_8 T0_9 T0_10 T0_11 T0_12 T0_13 T0_14 T0_15 T0_16 T0_17 T0_18 T1_0 T1_1 T1_2 T1_3 T1_4 T1_5 T1_6 T1_7 T1_8 T1_9 T1_10 T1_11 T1_12 T1_13 T1_14 T1_15 T1_16 T1_17 T1_18 T2_0 T2_1 T2_2 T2_3 T2_4 T2_5 T2_6 T2_7 T2_8 T2_9 T2_10 T2_11 T2_12 T2_13 T2_14 T2_15 T2_16 T2_17 T2_18 T3_0 T3_1 T3_2 T3_3 T3_4 T3_5 T3_6 T3_7 T3_8 T3_9 T3_10 T3_11 T3_12 T3_13 T3_14 T3_15 T3_16 T3_17 T3_18 ))

(declare-const sendT0_0 (Send Int Int Int Int))
(assert (and (= (ep sendT0_0) 3) (= (event sendT0_0) T0_0) (= (value sendT0_0) out_0_0)))
(declare-const sendT0_2 (Send Int Int Int Int))
(assert (and (= (ep sendT0_2) 1) (= (event sendT0_2) T0_2) (= (value sendT0_2) out_0_0)))
(declare-const recvT0_4 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT0_4) 0) (= (event recvT0_4) T0_4) (= (var recvT0_4) in_0_0)))
(assert (= (nearestwait recvT0_4) T0_5))
(declare-const sendT0_8 (Send Int Int Int Int))
(assert (and (= (ep sendT0_8) 3) (= (event sendT0_8) T0_8) (= (value sendT0_8) out_0_1)))
(declare-const sendT0_10 (Send Int Int Int Int))
(assert (and (= (ep sendT0_10) 1) (= (event sendT0_10) T0_10) (= (value sendT0_10) out_0_1)))
(declare-const recvT0_12 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT0_12) 0) (= (event recvT0_12) T0_12) (= (var recvT0_12) in_0_1)))
(assert (= (nearestwait recvT0_12) T0_13))
(declare-const recvT0_14 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT0_14) 0) (= (event recvT0_14) T0_14) (= (var recvT0_14) in_0_2)))
(assert (= (nearestwait recvT0_14) T0_15))
(declare-const recvT0_16 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT0_16) 0) (= (event recvT0_16) T0_16) (= (var recvT0_16) in_0_3)))
(assert (= (nearestwait recvT0_16) T0_17))
(declare-const sendT1_0 (Send Int Int Int Int))
(assert (and (= (ep sendT1_0) 0) (= (event sendT1_0) T1_0) (= (value sendT1_0) out_1_0)))
(declare-const sendT1_2 (Send Int Int Int Int))
(assert (and (= (ep sendT1_2) 2) (= (event sendT1_2) T1_2) (= (value sendT1_2) out_1_0)))
(declare-const recvT1_4 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT1_4) 1) (= (event recvT1_4) T1_4) (= (var recvT1_4) in_1_0)))
(assert (= (nearestwait recvT1_4) T1_5))
(declare-const sendT1_8 (Send Int Int Int Int))
(assert (and (= (ep sendT1_8) 0) (= (event sendT1_8) T1_8) (= (value sendT1_8) out_1_1)))
(declare-const sendT1_10 (Send Int Int Int Int))
(assert (and (= (ep sendT1_10) 2) (= (event sendT1_10) T1_10) (= (value sendT1_10) out_1_1)))
(declare-const recvT1_12 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT1_12) 1) (= (event recvT1_12) T1_12) (= (var recvT1_12) in_1_1)))
(assert (= (nearestwait recvT1_12) T1_13))
(declare-const recvT1_14 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT1_14) 1) (= (event recvT1_14) T1_14) (= (var recvT1_14) in_1_2)))
(assert (= (nearestwait recvT1_14) T1_15))
(declare-const recvT1_16 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT1_16) 1) (= (event recvT1_16) T1_16) (= (var recvT1_16) in_1_3)))
(assert (= (nearestwait recvT1_16) T1_17))
(declare-const sendT2_0 (Send Int Int Int Int))
(assert (and (= (ep sendT2_0) 1) (= (event sendT2_0) T2_0) (= (value sendT2_0) out_2_0)))
(declare-const sendT2_2 (Send Int Int Int Int))
(assert (and (= (ep sendT2_2) 3) (= (event sendT2_2) T2_2) (= (value sendT2_2) out_2_0)))
(declare-const recvT2_4 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT2_4) 2) (= (event recvT2_4) T2_4) (= (var recvT2_4) in_2_0)))
(assert (= (nearestwait recvT2_4) T2_5))
(declare-const sendT2_8 (Send Int Int Int Int))
(assert (and (= (ep sendT2_8) 1) (= (event sendT2_8) T2_8) (= (value sendT2_8) out_2_1)))
(declare-const sendT2_10 (Send Int Int Int Int))
(assert (and (= (ep sendT2_10) 3) (= (event sendT2_10) T2_10) (= (value sendT2_10) out_2_1)))
(declare-const recvT2_12 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT2_12) 2) (= (event recvT2_12) T2_12) (= (var recvT2_12) in_2_1)))
(assert (= (nearestwait recvT2_12) T2_13))
(declare-const recvT2_14 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT2_14) 2) (= (event recvT2_14) T2_14) (= (var recvT2_14) in_2_2)))
(assert (= (nearestwait recvT2_14) T2_15))
(declare-const recvT2_16 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT2_16) 2) (= (event recvT2_16) T2_16) (= (var recvT2_16) in_2_3)))
(assert (= (nearestwait recvT2_16) T2_17))
(declare-const sendT3_0 (Send Int Int Int Int))
(assert (and (= (ep sendT3_0) 2) (= (event sendT3_0) T3_0) (= (value sendT3_0) out_3_0)))
(declare-const sendT3_2 (Send Int Int Int Int))
(assert (and (= (ep sendT3_2) 0) (= (event sendT3_2) T3_2) (= (value sendT3_2) out_3_0)))
(declare-const recvT3_4 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT3_4) 3) (= (event recvT3_4) T3_4) (= (var recvT3_4) in_3_0)))
(assert (= (nearestwait recvT3_4) T3_5))
(declare-const sendT3_8 (Send Int Int Int Int))
(assert (and (= (ep sendT3_8) 2) (= (event sendT3_8) T3_8) (= (value sendT3_8) out_3_1)))
(declare-const sendT3_10 (Send Int Int Int Int))
(assert (and (= (ep sendT3_10) 0) (= (event sendT3_10) T3_10) (= (value sendT3_10) out_3_1)))
(declare-const recvT3_12 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT3_12) 3) (= (event recvT3_12) T3_12) (= (var recvT3_12) in_3_1)))
(assert (= (nearestwait recvT3_12) T3_13))
(declare-const recvT3_14 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT3_14) 3) (= (event recvT3_14) T3_14) (= (var recvT3_14) in_3_2)))
(assert (= (nearestwait recvT3_14) T3_15))
(declare-const recvT3_16 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT3_16) 3) (= (event recvT3_16) T3_16) (= (var recvT3_16) in_3_3)))
(assert (= (nearestwait recvT3_16) T3_17))

(assert (and
(HB T0_4 T0_5) (HB T0_0 T0_8) (HB T0_5 T0_8) (HB T0_2 T0_10) (HB T0_5 T0_10) (HB T0_4 T0_12) (HB T0_12 T0_13) (HB T0_12 T0_14) (HB T0_14 T0_15) (HB T0_14 T0_16) (HB T0_16 T0_17) (HB T1_4 T1_5) (HB T1_0 T1_8) (HB T1_5 T1_8) (HB T1_2 T1_10) (HB T1_5 T1_10) (HB T1_4 T1_12) (HB T1_12 T1_13) (HB T1_12 T1_14) (HB T1_14 T1_15) (HB T1_14 T1_16) (HB T1_16 T1_17) (HB T2_4 T2_5) (HB T2_0 T2_8) (HB T2_5 T2_8) (HB T2_2 T2_10) (HB T2_5 T2_10) (HB T2_4 T2_12) (HB T2_12 T2_13) (HB T2_12 T2_14) (HB T2_14 T2_15) (HB T2_14 T2_16) (HB T2_16 T2_17) (HB T3_4 T3_5) (HB T3_0 T3_8) (HB T3_5 T3_8) (HB T3_2 T3_10) (HB T3_5 T3_10) (HB T3_4 T3_12) (HB T3_12 T3_13) (HB T3_12 T3_14) (HB T3_14 T3_15) (HB T3_14 T3_16) (HB T3_16 T3_17) ))


(assert (and
(or (MATCH recvT2_4 sendT1_2) (MATCH recvT2_4 sendT3_0) )
(or (MATCH recvT2_14 sendT1_2) (MATCH recvT2_14 sendT1_10) (MATCH recvT2_14 sendT3_0) (MATCH recvT2_14 sendT3_8) )
(or (MATCH recvT2_12 sendT1_2) (MATCH recvT2_12 sendT1_10) (MATCH recvT2_12 sendT3_0) (MATCH recvT2_12 sendT3_8) )
(or (MATCH recvT3_4 sendT0_0) (MATCH recvT3_4 sendT2_2) )
(or (MATCH recvT1_16 sendT0_10) (MATCH recvT1_16 sendT2_8) )
(or (MATCH recvT1_14 sendT0_2) (MATCH recvT1_14 sendT0_10) (MATCH recvT1_14 sendT2_0) (MATCH recvT1_14 sendT2_8) )
(or (MATCH recvT1_12 sendT0_2) (MATCH recvT1_12 sendT0_10) (MATCH recvT1_12 sendT2_0) (MATCH recvT1_12 sendT2_8) )
(or (MATCH recvT0_16 sendT1_8) (MATCH recvT0_16 sendT3_10) )
(or (MATCH recvT0_4 sendT1_0) (MATCH recvT0_4 sendT3_2) )
(or (MATCH recvT0_14 sendT1_0) (MATCH recvT0_14 sendT1_8) (MATCH recvT0_14 sendT3_2) (MATCH recvT0_14 sendT3_10) )
(or (MATCH recvT0_12 sendT1_0) (MATCH recvT0_12 sendT1_8) (MATCH recvT0_12 sendT3_2) (MATCH recvT0_12 sendT3_10) )
(or (MATCH recvT3_16 sendT0_8) (MATCH recvT3_16 sendT2_10) )
(or (MATCH recvT3_14 sendT0_0) (MATCH recvT3_14 sendT0_8) (MATCH recvT3_14 sendT2_2) (MATCH recvT3_14 sendT2_10) )
(or (MATCH recvT1_4 sendT0_2) (MATCH recvT1_4 sendT2_0) )
(or (MATCH recvT3_12 sendT0_0) (MATCH recvT3_12 sendT0_8) (MATCH recvT3_12 sendT2_2) (MATCH recvT3_12 sendT2_10) )
(or (MATCH recvT2_16 sendT1_10) (MATCH recvT2_16 sendT3_8) )
))



(check-sat)
