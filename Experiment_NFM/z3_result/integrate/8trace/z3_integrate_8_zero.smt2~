(declare-datatypes (T1 T2 T3 T4 T5)
 ((Recv (mk-recv (match T1) (ep T2) (var T3) (event T4) (nearestwait T5)))))
(declare-datatypes (T1 T2 T3 T4)
((Send (mk-send (match T1) (ep T2) (value T3) (event T4)))))

(define-fun HB ((a Int) (b Int)) Bool
  (if(< a b)
 true
 false))
(define-fun HB* ((a Int) (b Int)) Bool
  (if(= a (- b 1))
 true
 false))

(define-fun MATCH ((r (Recv Int Int Int Int Int)) (s (Send Int Int Int Int))) Bool
(if(and (= (ep r) (ep s)) (= (var r) (value s))
(HB* (event s) (event r)) (= (match r) (event s))
(= (match s) (event r)))
true
false
)
)

(declare-const T0_0 Int)
(declare-const task_0 Int)
(declare-const T0_1 Int)
(declare-const result_0 Int)
(declare-const T0_2 Int)
(declare-const answer_0 Int)
(declare-const T0_3 Int)
(declare-const T0_4 Int)
(declare-const T0_5 Int)
(declare-const task_1 Int)
(declare-const T0_6 Int)
(declare-const T0_7 Int)
(declare-const T0_8 Int)
(declare-const task_2 Int)
(declare-const T0_9 Int)
(declare-const T0_10 Int)
(declare-const T0_11 Int)
(declare-const task_3 Int)
(declare-const T0_12 Int)
(declare-const T0_13 Int)
(declare-const T0_14 Int)
(declare-const task_4 Int)
(declare-const T0_15 Int)
(declare-const T0_16 Int)
(declare-const T0_17 Int)
(declare-const task_5 Int)
(declare-const T0_18 Int)
(declare-const T0_19 Int)
(declare-const T0_20 Int)
(declare-const task_6 Int)
(declare-const T0_21 Int)
(declare-const T0_22 Int)
(declare-const T0_23 Int)
(declare-const task_7 Int)
(declare-const T0_24 Int)
(declare-const result_0_1 Int)
(declare-const T0_25 Int)
(declare-const T0_26 Int)
(declare-const answer_1 Int)
(declare-const result_1 Int)
(declare-const T0_27 Int)
(declare-const result_0_2 Int)
(declare-const T0_28 Int)
(declare-const T0_29 Int)
(declare-const answer_2 Int)
(declare-const result_2 Int)
(declare-const T0_30 Int)
(declare-const result_0_3 Int)
(declare-const T0_31 Int)
(declare-const T0_32 Int)
(declare-const answer_3 Int)
(declare-const result_3 Int)
(declare-const T0_33 Int)
(declare-const result_0_4 Int)
(declare-const T0_34 Int)
(declare-const T0_35 Int)
(declare-const answer_4 Int)
(declare-const result_4 Int)
(declare-const T0_36 Int)
(declare-const result_0_5 Int)
(declare-const T0_37 Int)
(declare-const T0_38 Int)
(declare-const answer_5 Int)
(declare-const result_5 Int)
(declare-const T0_39 Int)
(declare-const result_0_6 Int)
(declare-const T0_40 Int)
(declare-const T0_41 Int)
(declare-const answer_6 Int)
(declare-const result_6 Int)
(declare-const T0_42 Int)
(declare-const result_0_7 Int)
(declare-const T0_43 Int)
(declare-const T0_44 Int)
(declare-const answer_7 Int)
(declare-const result_7 Int)
(declare-const T0_45 Int)
(declare-const T1_0 Int)
(declare-const task_1_0 Int)
(declare-const T1_1 Int)
(declare-const T1_2 Int)
(declare-const result_1_0 Int)
(declare-const T1_3 Int)
(declare-const T2_0 Int)
(declare-const task_2_0 Int)
(declare-const T2_1 Int)
(declare-const T2_2 Int)
(declare-const result_2_0 Int)
(declare-const T2_3 Int)
(declare-const T3_0 Int)
(declare-const task_3_0 Int)
(declare-const T3_1 Int)
(declare-const T3_2 Int)
(declare-const result_3_0 Int)
(declare-const T3_3 Int)
(declare-const T4_0 Int)
(declare-const task_4_0 Int)
(declare-const T4_1 Int)
(declare-const T4_2 Int)
(declare-const result_4_0 Int)
(declare-const T4_3 Int)
(declare-const T5_0 Int)
(declare-const task_5_0 Int)
(declare-const T5_1 Int)
(declare-const T5_2 Int)
(declare-const result_5_0 Int)
(declare-const T5_3 Int)
(declare-const T6_0 Int)
(declare-const task_6_0 Int)
(declare-const T6_1 Int)
(declare-const T6_2 Int)
(declare-const result_6_0 Int)
(declare-const T6_3 Int)
(declare-const T7_0 Int)
(declare-const task_7_0 Int)
(declare-const T7_1 Int)
(declare-const T7_2 Int)
(declare-const result_7_0 Int)
(declare-const T7_3 Int)

(assert (distinct T0_0 T0_1 T0_2 T0_3 T0_4 T0_5 T0_6 T0_7 T0_8 T0_9 T0_10 T0_11 T0_12 T0_13 T0_14 T0_15 T0_16 T0_17 T0_18 T0_19 T0_20 T0_21 T0_22 T0_23 T0_24 T0_25 T0_26 T0_27 T0_28 T0_29 T0_30 T0_31 T0_32 T0_33 T0_34 T0_35 T0_36 T0_37 T0_38 T0_39 T0_40 T0_41 T0_42 T0_43 T0_44 T0_45 T1_0 T1_1 T1_2 T1_3 T2_0 T2_1 T2_2 T2_3 T3_0 T3_1 T3_2 T3_3 T4_0 T4_1 T4_2 T4_3 T5_0 T5_1 T5_2 T5_3 T6_0 T6_1 T6_2 T6_3 T7_0 T7_1 T7_2 T7_3 ))

(declare-const sendT0_3 (Send Int Int Int Int))
(assert (and (= (ep sendT0_3) 1) (= (event sendT0_3) T0_3) (= (value sendT0_3) task_0)))
(declare-const sendT0_6 (Send Int Int Int Int))
(assert (and (= (ep sendT0_6) 2) (= (event sendT0_6) T0_6) (= (value sendT0_6) task_1)))
(declare-const sendT0_9 (Send Int Int Int Int))
(assert (and (= (ep sendT0_9) 3) (= (event sendT0_9) T0_9) (= (value sendT0_9) task_2)))
(declare-const sendT0_12 (Send Int Int Int Int))
(assert (and (= (ep sendT0_12) 4) (= (event sendT0_12) T0_12) (= (value sendT0_12) task_3)))
(declare-const sendT0_15 (Send Int Int Int Int))
(assert (and (= (ep sendT0_15) 5) (= (event sendT0_15) T0_15) (= (value sendT0_15) task_4)))
(declare-const sendT0_18 (Send Int Int Int Int))
(assert (and (= (ep sendT0_18) 6) (= (event sendT0_18) T0_18) (= (value sendT0_18) task_5)))
(declare-const sendT0_21 (Send Int Int Int Int))
(assert (and (= (ep sendT0_21) 7) (= (event sendT0_21) T0_21) (= (value sendT0_21) task_6)))
(declare-const recvT0_24 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT0_24) 0) (= (event recvT0_24) T0_24) (= (var recvT0_24) result_0_1)))
(assert (= (nearestwait recvT0_24) T0_25))
(declare-const recvT0_27 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT0_27) 0) (= (event recvT0_27) T0_27) (= (var recvT0_27) result_0_2)))
(assert (= (nearestwait recvT0_27) T0_28))
(declare-const recvT0_30 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT0_30) 0) (= (event recvT0_30) T0_30) (= (var recvT0_30) result_0_3)))
(assert (= (nearestwait recvT0_30) T0_31))
(declare-const recvT0_33 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT0_33) 0) (= (event recvT0_33) T0_33) (= (var recvT0_33) result_0_4)))
(assert (= (nearestwait recvT0_33) T0_34))
(declare-const recvT0_36 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT0_36) 0) (= (event recvT0_36) T0_36) (= (var recvT0_36) result_0_5)))
(assert (= (nearestwait recvT0_36) T0_37))
(declare-const recvT0_39 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT0_39) 0) (= (event recvT0_39) T0_39) (= (var recvT0_39) result_0_6)))
(assert (= (nearestwait recvT0_39) T0_40))
(declare-const recvT0_42 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT0_42) 0) (= (event recvT0_42) T0_42) (= (var recvT0_42) result_0_7)))
(assert (= (nearestwait recvT0_42) T0_43))
(declare-const recvT1_0 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT1_0) 1) (= (event recvT1_0) T1_0) (= (var recvT1_0) task_1_0)))
(assert (= (nearestwait recvT1_0) T1_1))
(declare-const sendT1_2 (Send Int Int Int Int))
(assert (and (= (ep sendT1_2) 0) (= (event sendT1_2) T1_2) (= (value sendT1_2) result_1_0)))
(declare-const recvT2_0 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT2_0) 2) (= (event recvT2_0) T2_0) (= (var recvT2_0) task_2_0)))
(assert (= (nearestwait recvT2_0) T2_1))
(declare-const sendT2_2 (Send Int Int Int Int))
(assert (and (= (ep sendT2_2) 0) (= (event sendT2_2) T2_2) (= (value sendT2_2) result_2_0)))
(declare-const recvT3_0 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT3_0) 3) (= (event recvT3_0) T3_0) (= (var recvT3_0) task_3_0)))
(assert (= (nearestwait recvT3_0) T3_1))
(declare-const sendT3_2 (Send Int Int Int Int))
(assert (and (= (ep sendT3_2) 0) (= (event sendT3_2) T3_2) (= (value sendT3_2) result_3_0)))
(declare-const recvT4_0 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT4_0) 4) (= (event recvT4_0) T4_0) (= (var recvT4_0) task_4_0)))
(assert (= (nearestwait recvT4_0) T4_1))
(declare-const sendT4_2 (Send Int Int Int Int))
(assert (and (= (ep sendT4_2) 0) (= (event sendT4_2) T4_2) (= (value sendT4_2) result_4_0)))
(declare-const recvT5_0 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT5_0) 5) (= (event recvT5_0) T5_0) (= (var recvT5_0) task_5_0)))
(assert (= (nearestwait recvT5_0) T5_1))
(declare-const sendT5_2 (Send Int Int Int Int))
(assert (and (= (ep sendT5_2) 0) (= (event sendT5_2) T5_2) (= (value sendT5_2) result_5_0)))
(declare-const recvT6_0 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT6_0) 6) (= (event recvT6_0) T6_0) (= (var recvT6_0) task_6_0)))
(assert (= (nearestwait recvT6_0) T6_1))
(declare-const sendT6_2 (Send Int Int Int Int))
(assert (and (= (ep sendT6_2) 0) (= (event sendT6_2) T6_2) (= (value sendT6_2) result_6_0)))
(declare-const recvT7_0 (Recv Int Int Int Int Int))
(assert (and (= (ep recvT7_0) 7) (= (event recvT7_0) T7_0) (= (var recvT7_0) task_7_0)))
(assert (= (nearestwait recvT7_0) T7_1))
(declare-const sendT7_2 (Send Int Int Int Int))
(assert (and (= (ep sendT7_2) 0) (= (event sendT7_2) T7_2) (= (value sendT7_2) result_7_0)))

(assert (and
(HB T0_3 T0_5) (HB T0_3 T0_6) (HB T0_6 T0_8) (HB T0_6 T0_9) (HB T0_9 T0_11) (HB T0_9 T0_12) (HB T0_12 T0_14) (HB T0_12 T0_15) (HB T0_15 T0_17) (HB T0_15 T0_18) (HB T0_18 T0_20) (HB T0_18 T0_21) (HB T0_21 T0_23) (HB T0_21 T0_24) (HB T0_24 T0_25) (HB T0_21 T0_26) (HB T0_21 T0_27) (HB T0_24 T0_27) (HB T0_27 T0_28) (HB T0_21 T0_29) (HB T0_21 T0_30) (HB T0_27 T0_30) (HB T0_30 T0_31) (HB T0_21 T0_32) (HB T0_21 T0_33) (HB T0_30 T0_33) (HB T0_33 T0_34) (HB T0_21 T0_35) (HB T0_21 T0_36) (HB T0_33 T0_36) (HB T0_36 T0_37) (HB T0_21 T0_38) (HB T0_21 T0_39) (HB T0_36 T0_39) (HB T0_39 T0_40) (HB T0_21 T0_41) (HB T0_21 T0_42) (HB T0_39 T0_42) (HB T0_42 T0_43) (HB T0_21 T0_44) (HB T0_21 T0_45) (HB T1_0 T1_1) (HB T1_1 T1_2) (HB T2_0 T2_1) (HB T2_1 T2_2) (HB T3_0 T3_1) (HB T3_1 T3_2) (HB T4_0 T4_1) (HB T4_1 T4_2) (HB T5_0 T5_1) (HB T5_1 T5_2) (HB T6_0 T6_1) (HB T6_1 T6_2) (HB T7_0 T7_1) (HB T7_1 T7_2) ))


(assert (and
(or (MATCH recvT6_0 sendT0_18) )
(or (MATCH recvT0_30 sendT1_2) (MATCH recvT0_30 sendT2_2) (MATCH recvT0_30 sendT3_2) (MATCH recvT0_30 sendT4_2) (MATCH recvT0_30 sendT5_2) (MATCH recvT0_30 sendT6_2) (MATCH recvT0_30 sendT7_2) )
(or (MATCH recvT0_27 sendT1_2) (MATCH recvT0_27 sendT2_2) (MATCH recvT0_27 sendT3_2) (MATCH recvT0_27 sendT4_2) (MATCH recvT0_27 sendT5_2) (MATCH recvT0_27 sendT6_2) (MATCH recvT0_27 sendT7_2) )
(or (MATCH recvT2_0 sendT0_6) )
(or (MATCH recvT0_24 sendT1_2) (MATCH recvT0_24 sendT2_2) (MATCH recvT0_24 sendT3_2) (MATCH recvT0_24 sendT4_2) (MATCH recvT0_24 sendT5_2) (MATCH recvT0_24 sendT6_2) (MATCH recvT0_24 sendT7_2) )
(or (MATCH recvT7_0 sendT0_21) )
(or (MATCH recvT3_0 sendT0_9) )
(or (MATCH recvT4_0 sendT0_12) )
(or (MATCH recvT0_42 sendT1_2) (MATCH recvT0_42 sendT2_2) (MATCH recvT0_42 sendT3_2) (MATCH recvT0_42 sendT4_2) (MATCH recvT0_42 sendT5_2) (MATCH recvT0_42 sendT6_2) (MATCH recvT0_42 sendT7_2) )
(or (MATCH recvT0_39 sendT1_2) (MATCH recvT0_39 sendT2_2) (MATCH recvT0_39 sendT3_2) (MATCH recvT0_39 sendT4_2) (MATCH recvT0_39 sendT5_2) (MATCH recvT0_39 sendT6_2) (MATCH recvT0_39 sendT7_2) )
(or (MATCH recvT0_36 sendT1_2) (MATCH recvT0_36 sendT2_2) (MATCH recvT0_36 sendT3_2) (MATCH recvT0_36 sendT4_2) (MATCH recvT0_36 sendT5_2) (MATCH recvT0_36 sendT6_2) (MATCH recvT0_36 sendT7_2) )
(or (MATCH recvT5_0 sendT0_15) )
(or (MATCH recvT0_33 sendT1_2) (MATCH recvT0_33 sendT2_2) (MATCH recvT0_33 sendT3_2) (MATCH recvT0_33 sendT4_2) (MATCH recvT0_33 sendT5_2) (MATCH recvT0_33 sendT6_2) (MATCH recvT0_33 sendT7_2) )
(or (MATCH recvT1_0 sendT0_3) )
))

(assert (= task_0 0))
(assert (= result_0 0))
(assert (= answer_0 0))
(assert (= task_1 (+ task_0 1)))
(assert (= task_2 (+ task_1 1)))
(assert (= task_3 (+ task_2 1)))
(assert (= task_4 (+ task_3 1)))
(assert (= task_5 (+ task_4 1)))
(assert (= task_6 (+ task_5 1)))
(assert (= task_7 (+ task_6 1)))
(assert (= answer_1 (+ result_1 1)))
(assert (= answer_2 (+ result_2 1)))
(assert (= answer_3 (+ result_3 1)))
(assert (= answer_4 (+ result_4 1)))
(assert (= answer_5 (+ result_5 1)))
(assert (= answer_6 (+ result_6 1)))
(assert (= answer_7 (+ result_7 1)))



(check-sat)
